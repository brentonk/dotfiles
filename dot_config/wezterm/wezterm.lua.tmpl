-- vim: ft=lua

{{- /* Per-host window opacity */ -}}
{{- $opacity := 0.9 -}}
{{- if eq .chezmoi.hostname "milchick" -}}
{{-   $opacity = 0.95 -}}
{{- end }}
-- Pull in the wezterm API
local wezterm = require 'wezterm'

-- Hold the configuration
local config = wezterm.config_builder()

-- Fonts
config.font = wezterm.font 'JetBrainsMono Nerd Font'
config.font_size = 11.0

-- Color theme
config.color_scheme = 'Everforest Dark (Gogh)'
config.hide_tab_bar_if_only_one_tab = true
config.window_background_opacity = {{ $opacity }}

-- Wayland
config.enable_wayland = true
config.use_ime = true

-- Send distinct escape sequences for modifier+key combos (CSI u / kitty encoding)
config.enable_csi_u_key_encoding = true

return config
